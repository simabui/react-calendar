(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{68:function(e,t,n){e.exports=n(84)},78:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(7),i=n.n(o),l=n(25),c=n(50),s=n(22),d=n(23),u=n(26),v=n(24),h=n(27),E=function(e){return e.events.collection},f=function(e){return e.events.editedEvent},p={setStart:"COLLECTION_SET_START",setSuccess:"COLLECTION_SET_SUCCESS",setFail:"COLLECTION_SET_FAIL",dragEvent:"DRAG_EVENT",removeEvent:"REMOVE_EVENT",eventToEdit:"GET_EVENT_TO_EDIT",editStart:"EDIT_EVENT_START",editSuccess:"EDIT_EVENT_SUCCESS",editFail:"EDIT_EVENT_FAIL"};var m=n(51),y=n(28),g=n(52),b=n(53),S=function(e){return function(t){t({type:p.setStart});try{t((n=e,{type:p.setSuccess,payload:{event:n}}))}catch(a){t(function(e){return{type:p.setFail,payload:{err:e}}}(a))}var n}},C=function(e){return function(t){t({type:p.editStart});try{t(function(e){return{type:p.editSuccess,payload:{event:e}}}(e))}catch(n){t(function(e){return{type:p.editStart,payload:{err:e}}}(n))}}},O=n(42),D=n(32),T=n(119),j=n(118),w=n(117),_=n(58),k=n.n(_),I=n(57),N=n.n(I),R=n(116),F=(n(78),function(e){var t=e.onClose,n=e.onChange,a=e.onToggle,o=e.onDelete,i=e.state,l=e.error;return r.a.createElement("div",{className:"modal"},r.a.createElement(j.a,{id:"title",label:"Event name",required:!0,onChange:n,value:i.title,helperText:l,error:i.title.length>10&&!0}),r.a.createElement(j.a,{id:"date",label:"Event date",type:"date",InputLabelProps:{shrink:!0},onChange:n,value:i.date}),r.a.createElement(j.a,{id:"time",label:"Event time",type:"time",value:i.time,InputLabelProps:{shrink:!0},onChange:n,disabled:i.allDay}),r.a.createElement(j.a,{id:"notes",label:"Notes",onChange:n,value:i.notes}),r.a.createElement("label",{htmlFor:"allDay",className:"modal__toggle"},"all Day",r.a.createElement(R.a,{selected:i.allDay,value:"check",id:"allDay",size:"small",onChange:a},r.a.createElement(N.a,null))),r.a.createElement("div",{className:"modal__buttons"},r.a.createElement(w.a,{color:"secondary",onClick:t,variant:"contained",size:"small"},"Cancel"),i.id&&r.a.createElement(w.a,{color:"secondary",variant:"contained",size:"small",onClick:o},"Delete"),r.a.createElement(w.a,{color:"primary",type:"submit",variant:"contained",size:"small"},i.id?"Edit":"Save")),r.a.createElement(k.a,{className:"modal__close",onClick:t}))}),L=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={time:"00:00",date:"",title:"",notes:"",error:"",id:"",allDay:!1},n.handleChange=function(e){var t=e.target;n.setState(Object(D.a)({},t.id,t.value))},n.hangleToggle=function(){n.setState(function(e){return{allDay:!e.allDay}})},n.handleKeyPress=function(e){"Escape"===e.code&&(0,n.props.onClose)()},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.title,r=t.notes,o=t.time,i=t.date,l=t.allDay,c=t.id,s=n.props,d=s.setEvent,u=s.editEvent,v=s.onClose,h="".concat(i,"T").concat(o,":00");a.length>30?n.setState({error:"Title should not be longer than 30 chars"}):(n.setState({error:""}),c?u({title:a,notes:r,start:h,allDay:l,id:c}):d({title:a,notes:r,start:h,allDay:l,id:Object(T.a)()}),v())},n.handleDelete=function(){var e=n.props,t=e.deleteEvent,a=e.onClose;t(n.state),a()},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress);var e=this.props,t=e.date,n=e.event;t?this.setState({date:t}):n&&this.setState(Object(O.a)({},n))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.date,a=t.event;e.date!==n&&this.setState({date:n}),e.event!==a&&this.setState(Object(O.a)({},a))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.innerRef,a=this.state.error;return r.a.createElement("div",{className:"form-modal",ref:n},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(F,{state:this.state,onClose:t,onChange:this.handleChange,onToggle:this.hangleToggle,error:a,onDelete:this.handleDelete})))}}]),t}(a.Component);L.defaultProps={date:""};var M=r.a.forwardRef(function(e,t){return r.a.createElement(L,Object.assign({innerRef:t},e))}),P=Object(l.b)(function(e){return{event:f(e)}},function(e){return{setEvent:function(t){return e(S(t))},editEvent:function(t){return e(C(t))},deleteEvent:function(t){return e(function(e){return{type:p.removeEvent,payload:{event:e}}}(t))}}})(M);n(80);var A={left:"today,prev,next",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay",prev:"left-double-arrow"},V={hour:"2-digit",minute:"2-digit",hour12:!1};function x(e){return e<10?"0".concat(e):e}var G=Object(a.createRef)(),z=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={isShown:!1,isEdit:!1,isDraggable:!0,nowIndicator:!0,dateEvent:""},n.handleDay=function(e){n.setState({isShown:!0,isEdit:!1,dateEvent:e.dateStr});var t=n.getCoords(e.dayEl);n.setModalPosition(t,G)},n.handleEditEvent=function(e){var t=e.event,a=e.el,r=function(e){var t=e.start,n=e.title,a=e.extendedProps.notes,r=e.id,o=e.allDay,i=function(e){var t=e+1;return t<10?"0".concat(t):t}(t.getMonth()),l=function(e){return e<10?"0".concat(e):e}(t.getDate()),c=x(t.getHours()),s=x(t.getMinutes()),d=a;return a||(d=""),{date:"".concat(t.getFullYear(),"-").concat(i,"-").concat(l),hours:"".concat(c,":").concat(s),notes:d,title:n,id:r,allDay:o}}(t);(0,n.props.getEvent)(r),n.setState({isEdit:!0,isShown:!1});var o=n.getCoords(a);n.setModalPosition(o,G)},n.handleDragEvent=function(e){var t=function(e){var t=e.event;return{title:t.title,notes:t.notes,start:t.start,allDay:t.allDay,id:t.id}}(e);(0,n.props.dragEvent)(t)},n.handleClose=function(){n.setState({isShown:!1})},n.handleCloseEdit=function(){n.setState({isEdit:!1})},n.setModalPosition=function(e,t){t.current.style.left="".concat(e.left,"px"),t.current.style.top="".concat(e.top,"px")},n.getCoords=function(e){var t=e.getBoundingClientRect();return{top:t.bottom+pageYOffset+10,left:t.left+pageXOffset-e.offsetWidth/2}},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.isDraggable,n=e.dateEvent,a=e.isShown,o=e.isEdit,i=e.nowIndicator,l=this.props.events;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{weekNumberCalculation:"ISO",defaultView:"dayGridMonth",header:A,plugins:[y.d,g.a,b.a],events:l,eventTimeFormat:V,dateClick:this.handleDay,eventClick:this.handleEditEvent,eventDrop:this.handleDragEvent,eventStartEditable:t,eventResizeStart:this.handleEditEvent,nowIndicator:i}),a&&r.a.createElement(P,{date:n,onClose:this.handleClose,innerRef:G}),o&&r.a.createElement(P,{onClose:this.handleCloseEdit,innerRef:G}))}}]),t}(a.Component),U=Object(l.b)(function(e){return{events:E(e)}},function(e){return{dragEvent:function(t){return e(function(e){return{type:p.dragEvent,payload:{event:e}}}(t))},getEvent:function(t){return e(function(e){return{type:p.eventToEdit,payload:{event:e}}}(t))}}})(z),W=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(U,null))}}]),t}(a.Component),K=(n(81),n(13)),B=n(59),J=n(60),Y=n(35),q=n(61),H=n.n(q),X=n(37);var Q={date:"",hours:"",title:"",notes:"",allDay:!1};var Z={key:"events",storage:H.a,whitelist:["collection"]},$=Object(K.combineReducers)({collection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.setSuccess:return[].concat(Object(X.a)(e),[t.payload.event]);case p.dragEvent:case p.editSuccess:return[].concat(Object(X.a)(e.filter(function(e){return e.id!==t.payload.event.id})),[t.payload.event]);case p.removeEvent:return Object(X.a)(e.filter(function(e){return e.id!==t.payload.event.id}));default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.setFail:case p.editFail:return t.payload.err;default:return e}},editedEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.eventToEdit:return t.payload.event;default:return e}}}),ee=Object(K.combineReducers)({events:Object(Y.a)(Z,$)}),te=[J.a],ne=K.applyMiddleware.apply(void 0,te);var ae,re=(ae=ee,Object(K.createStore)(ae,Object(B.composeWithDevTools)(ne))),oe=Object(Y.b)(re);i.a.render(r.a.createElement(l.a,{store:re},r.a.createElement(c.a,{loading:null,persistor:oe},r.a.createElement(W,null))),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.0c482754.chunk.js.map