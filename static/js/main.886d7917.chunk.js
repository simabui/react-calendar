(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{71:function(e,t,n){e.exports=n(89)},82:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),l=n.n(o),i=n(23),c=n(51),s=n(20),d=n(21),u=n(24),v=n(22),h=n(25),E=function(e){return e.events.collection},f=function(e){return e.events.editedEvent},p={setStart:"COLLECTION_SET_START",setSuccess:"COLLECTION_SET_SUCCESS",setFail:"COLLECTION_SET_FAIL",dragEvent:"DRAG_EVENT",removeEvent:"REMOVE_EVENT",eventToEdit:"GET_EVENT_TO_EDIT",editStart:"EDIT_EVENT_START",editSuccess:"EDIT_EVENT_SUCCESS",editFail:"EDIT_EVENT_FAIL"};var m=n(52),y=n(27),g=n(53),b=n(54),C=function(e){return function(t){t({type:p.setStart});try{t((n=e,{type:p.setSuccess,payload:{event:n}}))}catch(a){t(function(e){return{type:p.setFail,payload:{err:e}}}(a))}var n}},S=function(e){return function(t){t({type:p.editStart});try{t(function(e){return{type:p.editSuccess,payload:{event:e}}}(e))}catch(n){t(function(e){return{type:p.editStart,payload:{err:e}}}(n))}}},O=n(42),D=n(33),w=n(124),T=n(123),j=n(122),k=n(59),_=n.n(k),N=n(58),I=n.n(N),R=n(121),M=(n(82),function(e){var t=e.onClose,n=e.onChange,a=e.onToggle,o=e.onDelete,l=e.state,i=e.error;return r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal__input"},r.a.createElement(T.a,{id:"title",label:"Event name",required:!0,onChange:n,value:l.title,helperText:i,error:l.title.length>10&&!0}),r.a.createElement(T.a,{id:"date",label:"Event date",type:"date",InputLabelProps:{shrink:!0},onChange:n,value:l.date}),r.a.createElement(T.a,{id:"time",label:"Event time",type:"time",value:l.time,InputLabelProps:{shrink:!0},onChange:n,disabled:l.allDay}),r.a.createElement(T.a,{id:"notes",label:"Notes",onChange:n,value:l.notes}),r.a.createElement("label",{htmlFor:"allDay",className:"modal__toggle"},"all Day",r.a.createElement(R.a,{selected:l.allDay,value:"check",id:"allDay",size:"small",onChange:a},r.a.createElement(I.a,null)))),r.a.createElement("div",{className:"modal__buttons"},r.a.createElement(j.a,{color:"primary",type:"submit",variant:"contained",size:"small"},l.id?"Edit":"Save"),r.a.createElement(j.a,{color:"secondary",onClick:t,variant:"contained",size:"small"},"Cancel"),l.id&&r.a.createElement(j.a,{color:"secondary",variant:"contained",size:"small",onClick:o},"Delete")),r.a.createElement(_.a,{className:"modal__close",onClick:t}))}),F=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={time:"00:00",date:"",title:"",notes:"",error:"",id:"",allDay:!1},n.handleChange=function(e){var t=e.target;n.setState(Object(D.a)({},t.id,t.value))},n.hangleToggle=function(){n.setState(function(e){return{allDay:!e.allDay}})},n.handleKeyPress=function(e){"Escape"===e.code&&(0,n.props.onClose)()},n.handleOverlayClick=function(e){var t=n.props.innerRef.current;t&&e.target!==t||(0,n.props.onClose)()},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.title,r=t.notes,o=t.time,l=t.date,i=t.allDay,c=t.id,s=n.props,d=s.setEvent,u=s.editEvent,v=s.onClose,h="".concat(l,"T").concat(o,":00");a.length>30?n.setState({error:"Title should not be longer than 30 chars"}):(n.setState({error:""}),c?u({title:a,notes:r,start:h,allDay:i,id:c}):d({title:a,notes:r,start:h,allDay:i,id:Object(w.a)()}),v())},n.handleDelete=function(){var e=n.props,t=e.deleteEvent,a=e.onClose;t(n.state),a()},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress);var e=this.props,t=e.date,n=e.event;t?this.setState({date:t}):n&&this.setState(Object(O.a)({},n))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.date,a=t.event;e.date!==n&&this.setState({date:n}),e.event!==a&&this.setState(Object(O.a)({},a))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.innerRef,a=this.state.error;return r.a.createElement("div",{className:"form-modal",ref:n,onClick:this.handleOverlayClick},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(M,{state:this.state,onClose:t,onChange:this.handleChange,onToggle:this.hangleToggle,error:a,onDelete:this.handleDelete})))}}]),t}(a.Component);F.defaultProps={date:""};var L=r.a.forwardRef(function(e,t){return r.a.createElement(F,Object.assign({innerRef:t},e))}),P=Object(i.b)(function(e){return{event:f(e)}},function(e){return{setEvent:function(t){return e(C(t))},editEvent:function(t){return e(S(t))},deleteEvent:function(t){return e(function(e){return{type:p.removeEvent,payload:{event:e}}}(t))}}})(L);n(84);function A(e){var t=e.onClick;return r.a.createElement("div",{className:"button__xs"},r.a.createElement(j.a,{color:"secondary",variant:"contained",size:"small",onClick:t},"Add Event"))}n(85);var x={left:"today,prev,next",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay",prev:"left-double-arrow"},V={hour:"2-digit",minute:"2-digit",hour12:!1};function z(e){return e<10?"0".concat(e):e}var G=Object(a.createRef)(),U=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={isShown:!1,isEdit:!1,isDraggable:!0,nowIndicator:!0,dateEvent:""},n.handleDay=function(e){n.setState({isShown:!0,isEdit:!1,dateEvent:e.dateStr});var t=n.getCoords(e.dayEl);n.setModalPosition(t,G)},n.handleEditEvent=function(e){var t=e.event,a=e.el,r=function(e){var t=e.start,n=e.title,a=e.extendedProps.notes,r=e.id,o=e.allDay,l=function(e){var t=e+1;return t<10?"0".concat(t):t}(t.getMonth()),i=function(e){return e<10?"0".concat(e):e}(t.getDate()),c=z(t.getHours()),s=z(t.getMinutes()),d=a;return a||(d=""),{date:"".concat(t.getFullYear(),"-").concat(l,"-").concat(i),hours:"".concat(c,":").concat(s),notes:d,title:n,id:r,allDay:o}}(t);(0,n.props.getEvent)(r),n.setState({isEdit:!0,isShown:!1});var o=n.getCoords(a);n.setModalPosition(o,G)},n.handleDragEvent=function(e){var t=function(e){var t=e.event;return{title:t.title,notes:t.notes,start:t.start,allDay:t.allDay,id:t.id}}(e);(0,n.props.dragEvent)(t)},n.handleClose=function(){n.setState({isShown:!1})},n.handleCloseEdit=function(){n.setState({isEdit:!1})},n.setModalPosition=function(e,t){window.matchMedia("(min-width: 560px)").matches&&(t.current.style.left="".concat(e.left,"px"),t.current.style.top="".concat(e.top,"px"))},n.handleOpenModal=function(){n.setState({isShown:!0})},n.getCoords=function(e){var t=e.getBoundingClientRect();return{top:t.bottom+pageYOffset+10,left:t.left+pageXOffset-e.offsetWidth/2}},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.isDraggable,n=e.dateEvent,a=e.isShown,o=e.isEdit,l=e.nowIndicator,i=this.props.events;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{weekNumberCalculation:"ISO",defaultView:"dayGridMonth",header:x,plugins:[y.d,g.a,b.a],events:i,eventTimeFormat:V,dateClick:this.handleDay,eventClick:this.handleEditEvent,eventDrop:this.handleDragEvent,eventStartEditable:t,eventResizeStart:this.handleEditEvent,nowIndicator:l}),r.a.createElement(A,{onClick:this.handleOpenModal}),a&&r.a.createElement(P,{date:n,onClose:this.handleClose,innerRef:G}),o&&r.a.createElement(P,{onClose:this.handleCloseEdit,innerRef:G}))}}]),t}(a.Component),W=Object(i.b)(function(e){return{events:E(e)}},function(e){return{dragEvent:function(t){return e(function(e){return{type:p.dragEvent,payload:{event:e}}}(t))},getEvent:function(t){return e(function(e){return{type:p.eventToEdit,payload:{event:e}}}(t))}}})(U),K=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null))}}]),t}(a.Component),B=(n(86),n(12)),J=n(60),Y=n(61),q=n(36),H=n(62),X=n.n(H),Q=n(37);var Z={date:"",hours:"",title:"",notes:"",allDay:!1};var $={key:"events",storage:X.a,whitelist:["collection"]},ee=Object(B.combineReducers)({collection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.setSuccess:return[].concat(Object(Q.a)(e),[t.payload.event]);case p.dragEvent:case p.editSuccess:return[].concat(Object(Q.a)(e.filter(function(e){return e.id!==t.payload.event.id})),[t.payload.event]);case p.removeEvent:return Object(Q.a)(e.filter(function(e){return e.id!==t.payload.event.id}));default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.setFail:case p.editFail:return t.payload.err;default:return e}},editedEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.eventToEdit:return t.payload.event;default:return e}}}),te=Object(B.combineReducers)({events:Object(q.a)($,ee)}),ne=[Y.a],ae=B.applyMiddleware.apply(void 0,ne);var re,oe=(re=te,Object(B.createStore)(re,Object(J.composeWithDevTools)(ae))),le=Object(q.b)(oe);l.a.render(r.a.createElement(i.a,{store:oe},r.a.createElement(c.a,{loading:null,persistor:le},r.a.createElement(K,null))),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.886d7917.chunk.js.map